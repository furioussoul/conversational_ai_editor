# AI Native 文档编写完全指南

## 快速开始

### 1. 创建新文档

点击左侧边栏的"创建新文档"，输入文档标题（例如："客服助手Agent"）。

### 2. 开始编写

在编辑器中用 Markdown 格式描述你的 Agent。AI 会实时解析你的文档。

### 3. 查看预览

点击"显示预览"按钮，查看 AI 解析后的结构化结果。

### 4. 提交发布

完成编写后，点击"提交审核" → "审核通过并发布"，系统自动生成 Agent 配置。

---

## 文档结构详解

### 必需部分

#### 1. Agent 名称（一级标题）

```markdown
# 客服助手 Agent
```

这将成为 Agent 的名称。**必须是文档的第一行**。

#### 2. Agent 描述（首段文字）

```markdown
# 客服助手 Agent

一个友好、专业的客户服务助手，能够快速响应用户问题，
提供准确的产品信息和订单查询服务。始终保持耐心和礼貌。
```

第一段文字自动成为 Agent 的描述，用于定义 Agent 的性格、能力和行为风格。

---

### 可选部分

#### 3. 术语定义

定义领域特定的词汇和概念。

**格式**：

```markdown
## 术语定义

- **术语名称 (同义词1, 同义词2)**: 详细解释
- **另一个术语**: 说明
```

**示例**：

```markdown
## 术语定义

- **VIP客户 (贵宾客户, 高级会员)**: 年消费金额超过10000元的客户，享受优先服务
- **工作时间**: 周一至周五上午9点至下午6点
- **退货政策**: 购买后7天内可无理由退货
```

**识别规则**：

- 章节标题包含"术语"、"词汇"、"定义"、"term"等关键词
- 使用列表格式（`-` 或 `*` 开头）
- 可在括号中添加同义词

#### 4. 工具定义

定义 Agent 可以调用的函数或API。

**格式**：

```markdown
## 工具：[工具名称]

[工具功能描述]

参数：

- 参数名1: 参数说明
- 参数名2 (可选): 参数说明

返回：[返回值说明]
```

**示例**：

```markdown
## 工具：查询订单状态

根据订单号查询订单的当前处理状态和物流信息。

参数：

- order_id: 订单编号，格式为 ORD-XXXXXX
- user_id (可选): 用户ID，用于验证订单归属

返回：订单状态对象，包含订单状态、预计送达时间、物流追踪号等信息

## 工具：获取产品信息

通过产品ID或名称获取详细的产品信息。

参数：

- product_id: 产品唯一标识符
- include_stock (可选): 是否包含库存信息，默认为 false

返回：产品详情对象
```

**识别规则**：

- 章节标题包含"工具"、"函数"、"API"、"tool"、"function"等
- 通常使用 `## 工具：XXX` 或 `## XXX工具` 格式
- 参数列表以 `参数：` 开头
- 返回值以 `返回：` 开头

#### 5. 旅程定义

定义用户对话的完整流程。

**格式**：

```markdown
## 旅程：[旅程名称]

[旅程目的和描述]

触发条件：

- 条件1
- 条件2

流程描述：
[详细步骤]
```

**示例**：

```markdown
## 旅程：处理退款请求

帮助用户完成退款申请并跟踪退款进度。

触发条件：

- 用户明确表示要退款
- 用户说"我想退货"或"申请退款"
- 用户对产品不满意并询问退款政策

流程描述：

1. 礼貌询问用户的订单号
2. 查询订单详情，验证订单状态
3. 检查是否在退货期限内（7天）
4. 如果符合退款条件：
   - 说明退款流程和预计到账时间
   - 询问退款原因（用于改进服务）
   - 引导用户完成退款申请
   - 提供退款申请单号
5. 如果不符合退款条件：
   - 解释具体原因
   - 提供其他解决方案（如换货、维修）
   - 必要时转接人工客服

特殊情况：

- 如果用户情绪激动，优先安抚情绪
- 如果涉及质量问题，优先处理并记录
```

**识别规则**：

- 章节标题包含"旅程"、"流程"、"场景"、"journey"等
- 触发条件使用列表格式
- 流程描述可以是有序列表或段落文字

#### 6. 指导原则

定义 Agent 在特定情况下的行为准则。

**格式**：

```markdown
## 指导原则

- [情况/条件] → [应采取的行动]
- [情况/条件] → [应采取的行动]
```

**示例**：

```markdown
## 指导原则

- 用户询问价格信息 → 提供最新价格，并主动说明当前是否有优惠活动
- 用户表达不满或投诉 → 首先表示歉意，认真倾听问题，提供解决方案
- 用户要求人工客服 → 礼貌告知转接人工，并提供人工客服工作时间
- 用户询问技术参数 → 提供准确的产品规格，避免模糊表述
- 用户提到竞品 → 客观介绍我们产品的优势，不贬低竞品
- 用户咨询退换货 → 清晰说明政策，不隐瞒条件
- 遇到无法回答的问题 → 诚实告知，并提供获取答案的途径
```

**识别规则**：

- 章节标题包含"原则"、"规则"、"准则"、"guideline"等
- 使用列表格式
- 条件和行动之间用 `→` 或 `->` 分隔

#### 7. 观察点

用于处理歧义场景，帮助 Agent 在多个旅程之间做出选择。

**格式**：

```markdown
## 观察点

[描述需要消歧的场景]
```

**示例**：

```markdown
## 观察点

用户说"我要查一下"，但没有明确说明是查订单、查物流还是查账户余额。
需要通过追问来明确用户的具体需求。

## 观察点

用户提到"处理这个问题"，可能指：

1. 申请退款
2. 申请换货
3. 申请维修
   需要询问具体想要哪种处理方式。
```

**识别规则**：

- 章节标题包含"观察"、"消歧"、"observation"等
- 描述需要澄清的模糊场景

---

## 编写技巧

### 1. 使用清晰的结构

```markdown
# Agent 名称

Agent 描述

## 术语定义

...

## 工具：工具1

...

## 工具：工具2

...

## 旅程：旅程1

...

## 指导原则

...
```

### 2. 保持自然的语言

❌ 不好：

```markdown
## 工具：get_user_info

Function to retrieve user information from database
Parameters: user_id (string)
Returns: UserObject
```

✅ 好：

```markdown
## 工具：获取用户信息

通过用户ID从数据库中获取用户的详细信息。

参数：

- user_id: 用户的唯一标识符

返回：包含用户姓名、联系方式、会员等级等信息的对象
```

### 3. 充分利用列表

列表格式便于 AI 解析：

```markdown
## 指导原则

- 条件A → 行动A
- 条件B → 行动B
- 条件C → 行动C
```

### 4. 添加示例和说明

```markdown
## 工具：计算运费

根据目的地和商品重量计算运费。

参数：

- destination: 目的地城市名称，如"北京"、"上海"
- weight: 商品重量，单位为千克（kg）

返回：运费金额，单位为人民币（元）

示例：

- 北京，2kg → 15元
- 上海，5kg → 25元
```

### 5. 实时查看预览

编写过程中随时点击"显示预览"，确保 AI 正确理解你的意图。

---

## 常见问题

### Q: AI 没有识别出我定义的工具？

**A**: 检查以下几点：

- 标题是否包含"工具"、"函数"等关键词
- 是否使用了二级标题 `##`
- 格式是否正确

### Q: 如何定义可选参数？

**A**: 在参数后加上"(可选)"：

```markdown
参数：

- required_param: 必填参数
- optional_param (可选): 可选参数
```

### Q: 支持哪些 Markdown 格式？

**A**: 目前支持：

- 标题（# 到 ######）
- 列表（- 和 \*）
- 段落
- 行内代码（\`code\`）
- 强调（**bold**）

### Q: 可以使用中英文混合吗？

**A**: 可以！AI 能同时理解中英文。

### Q: 解析出错怎么办？

**A**:

1. 查看右侧预览中的错误提示
2. 检查 Markdown 格式是否正确
3. 参考示例文档 `examples/healthcare-agent.md`

---

## 完整示例

查看 `examples/healthcare-agent.md` 获取医疗助手 Agent 的完整示例。

## 开始你的第一个 Agent！

现在你已经掌握了所有要点，去创建你的第一个 AI Agent 吧！

记住：**就像写工作文档一样自然地写，AI 会理解你的意图。**
